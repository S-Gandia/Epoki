<%- include("partials/header"); -%> 
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<link
  href="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css"
  rel="stylesheet"
  id="bootstrap-css"
/>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>

<link rel="stylesheet" href="css/styles.css" />
<body class="contact-body">
  <script>
    function validateform() {
      const inputFname = document.querySelector("#fName");
      const inputEmail = document.querySelector("#email");
      const inputNumber = document.querySelector("#number");
      const inputMessage = document.querySelector("#messagePara");

      if (
        inputFname.value == "" &&
        inputEmail.value == "" &&
        inputNumber.value == "" &&
        inputMessage.value == ""
      ) {
        alert("Please fill everything");
      } else {
        $("#exampleModalCenter").modal("show");
      
        // jquery technique to show the modal since it was giving a
        // problem adding the data toggle and data target for the
        //  button. So I did a validation function for the form
        //  onsubmit

        const btn = document.getElementById("modalCloseBtn");

        btn.addEventListener("click", function handleClick(event) {

        inputFname.value = '';
        inputEmail.value = '';
        inputNumber.value = '';
        inputMessage.value = '';
        /////Reset the values after closing the modal
        });
      }
    }
  </script>
  <div class="container contact-form">
    <form
      id="contactForm"
      action="/contact"
      method="post"
      onsubmit="validateform()"
    >
      <h3>Drop Us a Message</h3>
      <div class="row">
        <div class="col-md-6">
          <div class="form-group">
            <input
              id="fName"
              type="text"
              name="txtName"
              class="form-control"
              placeholder="Your Name *"
              required
            />
          </div>
          <div class="form-group">
            <input
              id="email"
              type="text"
              name="txtEmail"
              class="form-control"
              placeholder="Your Email *"
              required
            />
          </div>
          <div class="form-group">
            <input
              id="number"
              type="text"
              name="txtPhone"
              class="form-control"
              placeholder="Your Phone Number *"
              required
            />
          </div>

          <div class="form-group">
            <!-- <button disabled id="submitMessage" type="submit"  >TEST</button> -->
            <input
              id="submitMessage"
              type="submit"
              class="btnContact"
              value="Send Message"
            />
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group">
            <textarea
              id="messagePara"
              name="txtMsg"
              class="form-control"
              placeholder="Your Message *"
              style="width: 100%; height: 150px"
              required
            ></textarea>
          </div>
        </div>
      </div>
    </form>
  </div>
</body>

<!-- Modal -->
<div
  class="modal fade"
  id="exampleModalCenter"
  tabindex="-1"
  role="dialog"
  aria-labelledby="exampleModalCenterTitle"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">
          Your message has been successfully sent!
        </h5>
      </div>
      <div class="modal-body">Expect a reply from us between 24 - 48 hours</div>
      <div class="modal-footer">
        <button id="modalCloseBtn"class=" btn btn-outline-danger" onclick="$('#exampleModalCenter').modal('hide');" aria-label="Close">
          Close
        </button>
      </div>
    </div>
  </div>
</div>
<%- include("partials/footer"); -%> 
<!-- End of Modal  -->

<!-- <div
  class="modal fade"
  id="exampleModalCenter"
  tabindex="-1"
  role="dialog"
  aria-labelledby="exampleModalCenterTitle"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">Modal title</h5>
        <button
          type="button"
          class="close"
          data-dismiss="modal"
          aria-label="Close"
        >
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">...</div>
      <div class="modal-footer">
        <button  type="button" class="btn btn-secondary" data-dismiss="modal">
          Close
        </button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div> -->
